//
// Generated by JSON2Apex http://json2apex.herokuapp.com/
//

public class DarujmeTransaction {

	public Integer transactionId;
	public String presentableCode;
	public TransactionState state;
	public Amount sentAmount;
	public String receivedAt;
	public Amount outgoingAmount;
	public String outgoingVs;
	public String outgoingBankAccount;
	public Pledge pledge;

	public enum TransactionState {
		PENDING,
		PENDING_CONFIRMATION,
		PENDING_UPDATE,
		SUCCESS,
		SUCCESS_MONEY_ON_ACCOUNT,
		SENT_TO_ORGANIZATION,
		FAILURE,
		ERROR,
		REFUND,
		TIMEOUT,
		CANCELED
	}

	public class Address {
		public String street;
		public String city;
		public String postCode;
		public String country;
	}

	public class Donor {
		public String firstName;
		public String lastName;
		public String email;
		public Address address;
		public String phone;

		public String getAccountName() {
			return this.firstName + ' ' + this.lastName;
		}
	}

	public class Pledge {
		public Integer pledgeId;
		public Integer organizationId;
		public Integer projectId;
		public Integer promotionId;
		public String paymentMethod;
		public Boolean isRecurrent;
		public Amount pledgedAmount;
		public String pledgedAt;
		public Donor donor;
		public Boolean wantDonationCertificate;
	}

	public class Amount {
		public Integer cents;
		public CurrencyType usedCurrency;
	}

	public enum CurrencyType {
		CZK,
		EUR,
		GBP,
		USD
	}

	
	public static DarujmeTransaction parse(String json) {
		return (DarujmeTransaction) System.JSON.deserialize(json, DarujmeTransaction.class);
	}
}
